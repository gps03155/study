### NoSQL
---

<br>

>### __NoSQL__

<br>

__"Not Only SQL"로 SQL만을 사용하지 않는 데이터베이스 관리 시스템 (DBMS)__
관계형 데이터베이스를 사용하지 않는다는 의미가 아닌 여러 유형의 데이터베이스를 사용하는 것

__"Not Only SQL" : 데이터를 저장하는 데에는 SQL외에 다른 방법들도 있다.__

아직까지 NoSQL에 내려진 구체적인 정의는
대용량 데이터를 저장할 수 있으며 기존의 RDBMS를 사용함으로써 발생할 수 있는 문제들의 해결방안으로 손꼽을 수 있음

<br><br>

>### __NoSQL 특징__

<br>

- 대부분 __클러스터에서 실행할 목적__ 으로 만들어졌기 때문에 __관계형 모델을 사용하지 않음__ 그러나 모든 NoSQL 데이터베이스가 클러스터에서 실행되도록 맞춰진 것은 아님
- __오픈 소스__
- __스키마 없이 동작__ 하며, 구조에 대한 정의를 변경할 필요 없이 데이터베이스 레코등 자유롭게 필드를 추가할 수 있음

<br>

→ __대부분이 오픈소스이고 21세기 초반에 개발되었으며 SQL을 사용하지 않는 Schema-less 데이터베이스__

<br>

### 분산 저장

- 데이터와 트래픽이 증가함에 따라 기존의 수직적 확장에서 __장비의 수를 늘리는 수평적 확장 (Scale-out) 방식__

- 샤드 키(Shared Key)를 기준으로 __하나의 테이블을 수평 분할하여 서로 다른 클러스터에 분산 저장하고 질의__

<br>

### Schema-less

- __데이터의 구조를 미리 정의할 필요가 없으며, 시간이 지나더라도 언제든지 바꿀 수 있음__

- 데이터베이스가 스키마를 직접 관리하지 않는 것을 의미할 뿐, 암묵적인 스키마는 여전히 존재

<br><br>

>### __NoSQL은 어떻게 작동하는가?__

<br>

- NoSQL 데이터베이스는 문서, 그래프, 키 값, 인 메모리 검색 등의 데이터를 액세스 및 관리하기 위해 다양한 데이터 모델 사용
- 큰 데이터 볼륨, 짧은 지연 시간과 유연한 데이터 모델이 필요한 애플리케이션에 최적화되어 있음
- 다른 데이터베이스의 데이터 일관성 제약 일부를 완화함
- __JSON 문서로 저장__

<br><br>

>### __NoSQL 데이터베이스를 사용해야 하는 이유__

<br>

탁월한 사용자 경험을 제공하기 위해 유연성과 확장성을 비롯해 고성능의 매우 기능적인 데이터베이스를 필요로 하는 애플리케이션에 적합

<br>

### 유연성

유연한 스키마를 제공하여 보다 빠르고 반복적인 개발을 가능하게 해줌
유연한 데이터 모델은 NoSQL 데이터베이스를 반정형 및 비정형 데이터에 이상적으로 만들어줌

<br>

### 확장성

고가의 강력한 서버를 추가하는 대신 분산형 하드웨어 클러스터를 이용해 확장하도록 설계

<br>

### 고성능

특정 데이터 모델 (문서, 키 값, 그래프 등) 및 액세스 패턴에 대해 최적화되어 관계형 데이터베이스를 통해 유사한 기능을 충족하려 할 때보다 뛰어난 성능을 얻게 해줌

<br>

### 고기능성

각 데이터 모델에 맞추어 특별히 구축된 뛰어난 기능의 API와 데이터 유형을 제공

<br><br>

>### __NoSQL 데이터베이스 유형__

<br>

### 컬럼 형식 데이터베이스 (Column Model)

- __하나의 키에 여러 개의 컬럼 이름과 컬럼 값의 쌍으로 이루어진 데이터를 저장하고 조회__
- 모든 컬럼은 항상 타임스탬프 값과 함께 저장
- Row key, Column Kye, Column Family 같은 빅테이블 개념이 공통적으로 사용
(구글의 __빅테이블__ 이 대표적인 예로 차후 컬럼형 NoSQL은 빅테이블의 영향을 받음)
- 저장의 기본 단위는 컬럼으로 컬럼은 컬럼 이름과 컬럼 값, 타임스탬프로 구성
- 컬럼들의 집합이 Row이며 Row Key는 각 Row를 유일하게 식별하는 값
- Row들의 집합은 Key Space가 됨

<br>

~~~
대부분의 컬럼 모델 NoSQL은 쓰기와 읽기 중에 쓰기에 더 특화되어 있음
데이터를 먼저 커밋로그와 메모리에 저장한 후 응답하기 때문에 빠른 응답속도 제공
그렇기 때문에 읽기 연산 대비 쓰기 연산이 많은 서비스나 빠른 시간 안에 대량의 데이터를 입력하고 조회하는 서비스르 구현하 때 가장 좋은 성능을 보임
채팅 내용 저장, 실시간 분석을 위한 데이터 저장소 등의 서비스 구현에 적합
~~~

<br>

### 도큐먼트 데이터베이스 (Document Model)

- __JSON 또는 XML 형식의 문서와 같은 반정형 데이터를 저장하도록 설계된 데이터베이스__
- 키-값 모델을 개념적으로 확장한 구조로 __하나의 키에 하나의 구조화된 문서를 저장하고 조회__
- 논리적인 데이터 저장과 조회 방법이 관계형 데이터베이스와 유사
- 키는 문서에 대한 ID로 표현
- 저장된 문서를 컬렉션으로 관리하면서 문서 저장과 동시에 문서 ID에 대한 인덱스 생성
- 문서 ID에 대한 인덱스를 사용하여 O(1) 시간 안에 문서를 조회할 수 있음
- 대부분의 문서 모델 NoSQL은 B트리 인덱스를 사용하여 2차 인덱스 생성
(B트리는 크기가 커지면 커질수록 새로운 데이터를 입력하거나 삭제할 때 성능이 떨어짐)
- 읽기와 쓰기의 비율이 7:3 정도일때 가장 좋은 성능
- 중앙 집중식 로그 저장, 타임라인 저장, 통계 정보 저장 등에 사용

<br>

### 그래프  데이터베이스 (Graph Model)

- __간선이라고 부르는 방향 링크와 정점을 저장__
- 관계형(SQL) 및 비관계형(NoSQL) 데이터 베이스에 구축
- __정점과 엣지는 각각 이들과 연관된 속성을 가짐__

<br>

### 인 메모리 키-값 저장소 (Key-Value Model)

- 가장 기본적인 형태의 NoSQL
- 키 하나로 데이터를 저장하고 조회할 수 있는 단일 __키-값 구조__
- 단순한 저장구조로 인하여 복잡한 조회연산을 지원하지 않음
- __고속 읽기와 쓰기에 최적화__
- 사용자의 프로필 정보, 웹 서버 클러스터를 위한 세션 정보, 장바구니 정보, URL 단축 정보 저장 등에 사용
- 하나의 서비스 요청에 다수의 데이터 조회 및 수정 연산이 발생하면 트랜잭션 처리가 불가능하여 데이터 정합성을 보장할 수 없음
