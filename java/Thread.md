### Thread
---

<br>

>### __Thread__

<br>

__프로세스(실행중인 프로그램)에서 하나의 실행 흐름__

<br>

동작하고 있는 프로그램을 프로세스(Process)라고 함
보통 한개의 프로세스는 한가지의 일을 하지만 스레드를 이용하면 한 프로세스 내에서 두 가지 또는 그 이상의 일을 동시에 함

<br>

자바는 멀티 스레드를 지원하는 언어로 하나의 프로그램에서 여러 개의 실행 흐름을 만들고 실행할 수 있음

<br>

- 멀티 스레드를 사용하는 이유?
외부와은 연계같이 대기시간이 발생했을 때 기다리는 동안 다른 일을 처리할 수 있게 해서 처리 속도를 빠르게 하기 위함
  - CPU 사용률 향상
  - 자원을 보다 효율적으로 사용
  - 사용자에 대한 응답성 향상
  - 코드의 간결 (작업의 분리)

<br>

- Thread 생성법
~~~
1. Runnable 인터페이스를 구현(확장)한 클래스 작성
(Runnable 인터페이스를 implements하면 run() 메소드를 구현해야함)

2. Thread 클래스를 상속 받아 사용함
Thread 클래스를 상속 받은 후 run() 메소드에 실행할 코드를 작성

→ Thread 클래스를 상속받으면 다른 클래스를 상속받을 수 없으므로 일반적으로
  Runnable 인터페이스를 구현하는 방법으로 Thread 생성

→ 마지막 스레드가 종료되어야 jvm이 최종 종료됨
  main을 실행 시킬때도 스레드임

~~~

<br>

- Thread 우선순위
  - 각 스레드는 우선순위에 관한 자신만의 필드를 가짐
  우선순위에 따라 특정 스레드가 더 많은 시간동안 작업을 할 수 있도록 설정
  - getPriority()와 setPriority() 메소드를 통해 스레드의 우선순위를 반환하거나 변경가능
  - 스레드의 우선순위가 가질 수 있는 범위는 1~10 (숫자가 높을수록 우선순위 높음)

<br>

__Thread의 우선순위는 비례적인 절댓값이 아닌 상대적인 값__
(우선순위가 10인 스레드는 우선순위가 1인 스레드보다 더 많이 실행 큐에 포함되어 더 많은 작업시간을 할당받음)

<br><br>

>### __Thread Pool__

<br>

스레드를 동적으로 프로그램에 접속한 사람 수만큼 생성하게 된다면 메모리를 다 잡아먹을만큼의 스레드가 생성될 가능성이 있음
→ __Thread Pool을 이용해서 스레드의 생성 개수를 제한__

<br>

~~~
ExecutorService executorService = Executors.newFixedThreadPool(생성개수)

executorService.execute(Thread 객체)

executorService.shutdown()
~~~


<br><br>

>### __Thread Safe__

<br>

__멀티스레드로 동작하는 프로그램에서 개발자가 의도한대로 동작__ 하는 것을 가리킴

<br>

공유자원을 참조할 때 개발자가 처리해야함

<br>

- synchronized 키워드 사용하기
  - 공유자원의 인수에 lock을 걸어서 멀티스레드 환경에서 스레드끼리 동시에 사용하지 못하게 막음
  - 동기화가 생기지만 속도가 느려짐

<br><br>
