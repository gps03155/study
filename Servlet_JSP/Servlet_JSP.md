## Servlet JSP
---

<br>

>### __Servlet과 JSP의 개념__

<br>

- __기능의 차이는 없고 역할의 차이만 있음 (하는 일은 동일)__
- __서블릿과 JSP로부터 최상의 결과를 얻으려면 웹 페이지를 개발할 때 JSP, 서블릿의 2가지 컴포넌트를 조화롭게 사용해야 함__
- __웹 페이지를 구성하는 화면(HTML)은 JSP로 표현하고 프로세스에 관련한 부분은 서블릿이 처리하도록 해야함__

<br><br>

>### __Servlet (Servlet + Applet)__

<br>

#### 클라이언트 요청을 처리하고 그 결과를 다시 클라이언트에게 전송하는 Servlet 클래스의 구현 규칙을 지킨 자바 프로그램
__서버에서 웹페이지 등을 동적으로 생성하거나 데이터 처리를 수행하기 위해 자바로 작성된 프로그램__

<br>

- 서버에서 동작하는 Java 클래스
- HttpServlet 클래스를 상속
- HTML 코드를 브라우저로 리턴하기 위해서 서블릿은 __out 객체의 println__ 메소드를 사용
- 웹 기반의 요청에 대한 동적인 처리가 가능한 Server Side에서 돌아가는 Java Program
- Java코드 안에 HTML 코드 (하나의 클래스)
- 웹 개발을 위해 만든 표준

<br>

#### 자바 코드로 구현하고 컴파일하고 배포해야함
#### HTML태그로 문자열("")스트림으로 처리해야함
#### 코드가 수정되면 다시 컴파일하고 배포해야함 (서버 재시작)


<br><br>

>### __JSP__

<br>

#### 서블릿 기반의 '서버 스크립트 기술'
#### HTML 내부에 Java 코드를 삽입하는 형식
__Java 소스로 사용하여 웹페이지에 접근하고 페이지 전환을 통하여 웹브라우저에 전달__

<br>

- Java 언어를 기반으로 하는 Server Side 스크립트 언ㅇ
- __HTML 코드에 Java 코드를 넣어 동적인 웹 페이지를 생성하는 웹 어플리케이션 도구__
- Servlet를 보완하고 기술을 확장한 스크립트 방식 표준
(Servlet의 모든 기능 + 추가적인 기능)

<br>

#### 키워드가 태그화 되어 서블릿에 비해 배우기 쉬움
#### 자바코드를 <% %> 태그 안에 처리해주어야함
#### HTML처럼 태그를 사용하여 자바코드도 사용아 가능함

<br><br>

>### __Servlet과 JSP의 차이__

<br>

서블릿이나 JSP는 만드는 방법에  차이가 있을 뿐 동일한 역할을 수행한다는 것을 알수있음
초기에 자바 웹 개발을 서블릿을 이용한 개발이였으나 JSP 기술이 발표되면서 JSP 형태의 개발이 유행하게 되고 각각의 역할을 나누어 Servlet + JSP의 형태가 되었음

<br>

Servlet | JSP
---|---
Java 코드안에 HTML 코드(하나의 클래스)|HTML코드 안에 Java 코드
Data Processing(Controller)에 좋음|Presentation(View)에 좋음
DB와의 통신, Business Logic 호출, 데이터를 읽고 확인하는 작업 등에 유용|요청 결과를 나타내는 HTML 작성하는데 유용
Servlet이 수정된 후 Java 코드를 컴파일(.Class 파일생성)한 후 동적인 페이지를 처리하기 때문에 전체 코드를 업데이트하고 다시 컴파일한 후 재배포하는 작업이 필요(__개발 생산성 저하__) → 서버를 재시작해야함|JSP가 수정된 경우 재배포할 필요가 없이 WAS가 알아서 처리 (__쉬운 배포__)
컨트롤러 층 |프레젠테이션 층

<br><br>

>### __MVC 패턴의 JSP와 Servlet__

<br>

### Model1
- JSP만 이용한 개발
- 유지보수에서 단점이 존재

<br>

### Model2
- 서블릿과 JSP를 동시에 사용하여 개발
- JSP는 HTML 태그 사용이 용이 (__View__)
- 서블릿은 자바코드 작성이 편리 (__Controller__)
- 서블릿은 주로 화면과 통신하여 자료를 받아 가공하고 가공한 자료를 다시 화면에 전달

<br>

~~~
1. JSP와 Servlet 동시에 사용 - MVC 모델
   (View - JSP, Controller - Servlet)

2. 프레젠테이션 로직과 비즈니스 로직 분리
   보여지는 부분 : HTML이 중심이 되는 JSP
   다른 자바 클래스에게 데이터를 넘겨주는 부분 : Java 코드가 중심이 되는 Servlet

3. 유지보수 용이
~~~


<br>

MVC 패턴 | Model2 | 기능
--- | --- | ---
Model | 서비스클래스 / JavaBean | 비즈니스 로직을 처리하는 모든 것이 모델에 속함 컴트롤러부터 특정 로직에 대한 처리요청이 들어오면 이를 수행하고 수행 결과를 컨트롤러에 반환
View | JSP | 클라이언트에 줄력되는 화면을 말함 Model1과는 달리 로직 처리를 위한 코드가 내포되어있지 않음 요청 결과의 출력뿐만 아니라 컨트롤러에 요청을 보내는 용도로도 사용
Controller | Servlet | MVC 패턴(Model2) 모든 흐름제어를 맡음 브라우저로 요청이 들어오면 어떤 요청이 들어오는지 분석하여 이 요청을 처리하기 위한 모델을 사용하여 처리 사용한 모델로부터 처리결과를 받으면 추가로 처리하거나 가공해야할 정보가 있다면 처리 후 request객체나 session 객체에 저장하고 View(JSP)를 선택하여 Foward나 Redirect하여 클라이언트 호출

<br>

#### 장점
- 출력을 위한 View 코드와 로직처리를 위한 자바코드를 분리하기 때문데 Model1에 비해 코드가 복잡하지 않음
- View, 로직 처리에 대한 분업이 용이
- 기능에 따라 분리되어 있기 때문에 유지보수가 용이

<br>

#### 단점
- 구조가 복잡하여 습득이 어렵고 작업량이 많음
- Java에 대한 깊은 이해도 필요

<br><br>

>### __정리__

<br>

- JSP 파일은 서블릿으로 변환되어 실행
- JSP 파일이 Servlet으로 변환되는 과정은 오직 한번만 일어나므로 같은  페이지에 수많은 사용자의 요청이 있더라도 처리속도는 거의 떨어지지 않음
- JSP 페이지의 코딩 내용이 변경된다면 다시 변환 과정을 거침
- JSP가 서블릿을 기반으로 하고 있기 때문에 JSP의 동작 방식을 이해하기 위해서는 Servlet에 대한 이해도가 필요함
